/*
  kNN.h - Library for running a K-nearest Neighbors.
  Created by Brian Krentz, March 18, 2017.
*/

#ifndef kNN_h
#define kNN_h

#include "Arduino.h"

class kNN
{
  public:
    kNN();
    int run(int* test_p, float* test_o);
  private:
    int pose_kNN(int* test);
    int orient_kNN(float* test);
    int k;

    // Training Data for each pose and orientation
    int pose0[5][5] = {{380,259,282,346,516},{394,264,293,364,597},
                    {404,266,299,368,577},{400,269,293,370,744},
                    {399,288,335,421,754}};
    int pose1[5][5] = {{1021,1023,1023,1023,1023},{1023,1023,1023,1023,1023},
                    {1022,1023,1023,1023,1023},{1022,1021,1023,1023,1023,},
                    {1021,1023,1023,1023,1023}};
    int pose2[5][5] = {{1021,592,751,1023,1023},{1022,665,762,1023,1023},
                    {1021,764,771,1022,1023},{1022,729,782,1023,1023},
                    {766,696,809,1023,1023}};
    int pose3[5][5] = {{624,442,1009,976,727},{722,393,1023,1023,774},
                    {648,386,1023,1023,801},{601,477,995,997,682},
                    {1021,471,1023,1023,736}};
    float orient0[5][3] = {{-5.46,10.26,53.14},{-0.23,5.96,53.23},
                        {-2.03,6.65,55.87},{1.31,5.71,53.34},
                        {-5.19,17.83,62.42}};
    float orient1[5][3] = {{-142.11,-33.23,-126.06},{-135.47,-31.89,-108.52},
                        {-138.73,-37.13,-112.57},{-139.46,-32.66,-130.82},
                        {-142.49,-21.92,-121.41}};
};

#endif